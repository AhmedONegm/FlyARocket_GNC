<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Fly-A-Rocket (G)uidance (N)avigation and (C)ontrol Software: simplex_funcs.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Fly-A-Rocket (G)uidance (N)avigation and (C)ontrol Software
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">GNC software for a actively stabilized model rocket</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">simplex_funcs.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Simplex functions file.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;math.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="simplex__header_8h_source.html">simplex_header.h</a>&quot;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a32ea4090b3d243790c8d473697de44bd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="simplex__funcs_8c.html#a32ea4090b3d243790c8d473697de44bd">simplx</a> (<a class="el" href="simplex__header_8h.html#a42fde6adf063d0e30ad7a238b2d6e7da">MAT</a> a, int m, int n, int m1, int m2, int m3, int *icase, int *izrov, int *iposv)</td></tr>
<tr class="separator:a32ea4090b3d243790c8d473697de44bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdfdf17d70ce804cbe516d53e96d46c1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="simplex__funcs_8c.html#abdfdf17d70ce804cbe516d53e96d46c1">simp1</a> (<a class="el" href="simplex__header_8h.html#a42fde6adf063d0e30ad7a238b2d6e7da">MAT</a> a, int mm, int *ll, int nll, int iabf, int *kp, <a class="el" href="simplex__header_8h.html#a4b654506f18b8bfd61ad2a29a7e38c25">REAL</a> *bmax)</td></tr>
<tr class="separator:abdfdf17d70ce804cbe516d53e96d46c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd093efccc7043e24678e422adf3164a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="simplex__funcs_8c.html#abd093efccc7043e24678e422adf3164a">simp2</a> (<a class="el" href="simplex__header_8h.html#a42fde6adf063d0e30ad7a238b2d6e7da">MAT</a> a, int m, int n, int *l2, int nl2, int *ip, int kp, <a class="el" href="simplex__header_8h.html#a4b654506f18b8bfd61ad2a29a7e38c25">REAL</a> *q1)</td></tr>
<tr class="separator:abd093efccc7043e24678e422adf3164a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6313a32f2829cfab13fa7bd1fd237c44"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="simplex__funcs_8c.html#a6313a32f2829cfab13fa7bd1fd237c44">simp3</a> (<a class="el" href="simplex__header_8h.html#a42fde6adf063d0e30ad7a238b2d6e7da">MAT</a> a, int i1, int k1, int ip, int kp)</td></tr>
<tr class="separator:a6313a32f2829cfab13fa7bd1fd237c44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01b1cf65d8b2a0515866249c8c26ee94"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="simplex__funcs_8c.html#a01b1cf65d8b2a0515866249c8c26ee94">get_simplex_solution</a> (int ICASE, int *IPOSV, <a class="el" href="simplex__header_8h.html#a42fde6adf063d0e30ad7a238b2d6e7da">MAT</a> <a class="el" href="simplex__header_8h.html#ace63b68fea4070104433c81319d246a6">A</a>, int <a class="el" href="simplex__header_8h.html#a5e78dbd5fd0fc01ba7b98dd15e27221e">M</a>, int <a class="el" href="simplex__header_8h.html#a7722c8ecbb62d99aee7ce68b1752f337">N</a>, double *<a class="el" href="master__header_8h.html#af404f6d9a332838b9707056c27a4f21a">R1</a>, double *<a class="el" href="master__header_8h.html#a6e4ea5fe1993f05924fa4d457def2aa3">R2</a>, double *<a class="el" href="master__header_8h.html#a6752016f7a02ff6ff1b749623be15dbb">R3</a>, double *<a class="el" href="master__header_8h.html#af6474ec4ce3b123a435f2b0f453d0aba">R4</a>)</td></tr>
<tr class="separator:a01b1cf65d8b2a0515866249c8c26ee94"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Simplex functions file. </p>
<dl class="section author"><dt>Author</dt><dd>Danylo Malyuta <a href="#" onclick="location.href='mai'+'lto:'+'dan'+'yl'+'o.m'+'al'+'yut'+'a@'+'gma'+'il'+'.co'+'m'; return false;">danyl<span style="display: none;">.nosp@m.</span>o.ma<span style="display: none;">.nosp@m.</span>lyuta<span style="display: none;">.nosp@m.</span>@gma<span style="display: none;">.nosp@m.</span>il.co<span style="display: none;">.nosp@m.</span>m</a> </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0</dd></dl>
<p>This file contains Simplex linear programming (linear optimization) functions that are used in optimally allocating thrusts between the 4 valves given Fpitch, Fyaw and Mroll that we desire to exert on the rocket. This code is taken from the kindly provided code by Jean-Pierre Moreau <a href="http://jean-pierre.moreau.pagesperso-orange.fr/Cplus/tsimplex_cpp.txt">here</a>. where only <a class="el" href="simplex__funcs_8c.html#a01b1cf65d8b2a0515866249c8c26ee94">get_simplex_solution()</a> function is new (i.e. not found at the above site) and is used to conveniently extract the optimal solution directly into the valve thrusts R1, R2, R3, R4 that are defined in the GNC program (see <a class="el" href="master__header_8h.html" title="Master header file. ">master_header.h</a>).</p>
<p>License from the original .cpp file: </p>
<pre class="fragment">***************************************************************
*          LINEAR PROGRAMMING: THE SIMPLEX METHOD             *
*------------------------------------------------------------ *
* ------------------------------------------------------------*
* Reference: "Numerical Recipes By W.H. Press, B. P. Flannery,*
*             S.A. Teukolsky and W.T. Vetterling, Cambridge   *
*             University Press, 1986" [BIBLI 08].             *
*                                                             *
*                       C++ Release 1.0 By J-P Moreau, Paris  *
*                                 (www.jpmoreau.fr)           *
***************************************************************</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a01b1cf65d8b2a0515866249c8c26ee94"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void get_simplex_solution </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ICASE</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>IPOSV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="simplex__header_8h.html#a42fde6adf063d0e30ad7a238b2d6e7da">MAT</a>&#160;</td>
          <td class="paramname"><em>A</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>M</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>N</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>R1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>R2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>R3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>R4</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function writes the result of the Simplex optimization into R1, R2, R3 and R4 (the valve thrusts).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">A</td><td>Simplex table. </td></tr>
    <tr><td class="paramname">M</td><td>Total number of contraints. </td></tr>
    <tr><td class="paramname">N</td><td>Total number of variables in cost function. </td></tr>
    <tr><td class="paramname">R1</td><td>Pointer to the memory holding the R1 valve thrust. </td></tr>
    <tr><td class="paramname">R2</td><td>Pointer to the memory holding the R2 valve thrust. </td></tr>
    <tr><td class="paramname">R3</td><td>Pointer to the memory holding the R3 valve thrust. </td></tr>
    <tr><td class="paramname">R4</td><td>Pointer to the memory holding the R4 valve thrust. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abdfdf17d70ce804cbe516d53e96d46c1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void simp1 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="simplex__header_8h.html#a42fde6adf063d0e30ad7a238b2d6e7da">MAT</a>&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>ll</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nll</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>iabf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>kp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="simplex__header_8h.html#a4b654506f18b8bfd61ad2a29a7e38c25">REAL</a> *&#160;</td>
          <td class="paramname"><em>bmax</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determines the maximum of those elements whose index is contained in the supplied list ll, either with or without taking the absolute value, as flagged by iabf.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>Simplex table. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abd093efccc7043e24678e422adf3164a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void simp2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="simplex__header_8h.html#a42fde6adf063d0e30ad7a238b2d6e7da">MAT</a>&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>l2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nl2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>kp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="simplex__header_8h.html#a4b654506f18b8bfd61ad2a29a7e38c25">REAL</a> *&#160;</td>
          <td class="paramname"><em>q1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Locate a pivot element, taking degeneracy into account.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>Simplex table. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6313a32f2829cfab13fa7bd1fd237c44"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void simp3 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="simplex__header_8h.html#a42fde6adf063d0e30ad7a238b2d6e7da">MAT</a>&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>k1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>kp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Matrix operations to exchange a left-hand and right-hand variable (see text). </p>

</div>
</div>
<a class="anchor" id="a32ea4090b3d243790c8d473697de44bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void simplx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="simplex__header_8h.html#a42fde6adf063d0e30ad7a238b2d6e7da">MAT</a>&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>m1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>m2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>m3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>icase</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>izrov</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>iposv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>USES simp1,simp2,simp3 Simplex method for linear programming. Input parameters a, m, n, mp, np, m1, m2, and m3, and output parameters a, icase, izrov, and iposv are described above (see reference). Parameters: MMAX is the maximum number of constraints expected; NMAX is the maximum number of variables expected; EPS is the absolute precision, which should be adjusted to the scale of your variables.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>Simplex table. </td></tr>
    <tr><td class="paramname">m</td><td>Total number of constraints (m=m1+m2+m3). </td></tr>
    <tr><td class="paramname">n</td><td>Number of variables in cost function. </td></tr>
    <tr><td class="paramname">m1</td><td>Number of (&lt;=) type inequality constraints. </td></tr>
    <tr><td class="paramname">m2</td><td>Number of (&gt;=) type inequality constraints. </td></tr>
    <tr><td class="paramname">m3</td><td>Number of (=) type constraints. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun May 31 2015 02:39:38 for Fly-A-Rocket (G)uidance (N)avigation and (C)ontrol Software by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
